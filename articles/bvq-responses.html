<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Retrieving raw data • bvq</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Retrieving raw data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bvq</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/bvq.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/bvq-connect.html">Connecting to the database</a></li>
    <li><a class="dropdown-item" href="../articles/bvq-norms.html">Word acquisition norms</a></li>
    <li><a class="dropdown-item" href="../articles/bvq-responses.html">Retrieving raw data</a></li>
    <li><a class="dropdown-item" href="../articles/bvq-vocabulary.html">Vocabulary sizes</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gongcastro/bvq/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Retrieving raw data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gongcastro/bvq/blob/main/vignettes/bvq-responses.Rmd" class="external-link"><code>vignettes/bvq-responses.Rmd</code></a></small>
      <div class="d-none name"><code>bvq-responses.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gongcastro.github.io/bvq/" class="external-link">bvq</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p>The function <code><a href="../reference/bvq_responses.html">bvq_responses()</a></code> retrieves participants’
responses to the Barcelona Vocabulary Questionnaire (BVQ) using the <a href="https://formr.org/documentation" class="external-link">formr API</a>, and returns them
along participant- and item-level information. This function returns a
tidy data frame in which each row is one participant’s response to an
individual item.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">responses</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bvq_responses.html">bvq_responses</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># select relevant variables</span></span>
<span><span class="va">responses</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">time</span>, <span class="va">item</span>, <span class="va">response</span>, <span class="va">randomisation</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html" class="external-link">drop_na</a></span><span class="op">(</span><span class="va">response</span><span class="op">)</span> <span class="co"># drop unanswered items</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 34,465 × 16</span></span></span>
<span><span class="co">#&gt;    child_id response_id  time version      version_list date_birth date_started</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 58298    BL1879          2 bvq-lockdown C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 34,455 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 9 more variables: date_finished &lt;date&gt;, item &lt;chr&gt;, response &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sex &lt;chr&gt;, doe_catalan &lt;dbl&gt;, doe_spanish &lt;dbl&gt;, doe_others &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   edu_parent1 &lt;chr&gt;, edu_parent2 &lt;chr&gt;</span></span></span></code></pre>
<p>This dataset is the base for many analyses of interest, like
participants’ vocabulary size, word prevalence, or modelling item-level
probability of acquisition. This package offers several functions to do
this (e.g., <code><a href="../reference/bvq_vocabulary.html">bvq_vocabulary()</a></code>, <code><a href="../reference/bvq_norms.html">bvq_norms()</a></code>),
but one could already do this from this dataset.</p>
<p>Additional participant-level properties like language profile
variables can be extracted using the <code><a href="../reference/bvq_logs.html">bvq_logs()</a></code>
function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">logs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bvq_logs.html">bvq_logs</a></span><span class="op">(</span>responses <span class="op">=</span> <span class="va">responses</span><span class="op">)</span></span>
<span></span>
<span><span class="va">logs</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="va">child_id</span>, <span class="va">time</span>, <span class="va">age</span>, <span class="va">lp</span>,</span>
<span>    <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"doe_"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Item-level properties can be consulted in the <code>pool</code>
dataset (See ?pool):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"pool"</span><span class="op">)</span></span>
<span><span class="va">pool</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1,590 × 14</span></span></span>
<span><span class="co">#&gt;    item          language    te label xsampa n_lemmas is_multiword subtlex_lemma</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> cat_pessigol… Catalan      1 (fer… <span style="color: #949494;">"</span>p@.s…        1 FALSE        pessigolles  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> cat_abracar   Catalan      2 abra… <span style="color: #949494;">"</span>@.B4…        1 FALSE        abraçar      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> cat_obrir     Catalan      3 obrir <span style="color: #949494;">"</span>u\"B…        1 FALSE        obrir        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> cat_acabar    Catalan      4 acab… <span style="color: #949494;">"</span>@.k@…        1 FALSE        acabar       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> cat_llancar   Catalan      5 llan… <span style="color: #949494;">"</span>L@n\…        1 FALSE        llançar      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> cat_apagar    Catalan      6 apag… <span style="color: #949494;">"</span>@.p@…        1 FALSE        apagar       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> cat_aprendre  Catalan      7 apre… <span style="color: #949494;">"</span>@\"p…        1 FALSE        aprendre     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> cat_esgarrap… Catalan      8 esga… <span style="color: #949494;">"</span>@z.g…        1 FALSE        esgarrapar   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> cat_ajudar    Catalan      9 ajud… <span style="color: #949494;">"</span>@.Zu…        1 FALSE        ajudar       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> cat_ballar    Catalan     10 ball… <span style="color: #949494;">"</span>b@\"…        1 FALSE        ballar       </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1,580 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 6 more variables: wordbank_lemma &lt;chr&gt;, childes_lemma &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   semantic_category &lt;chr&gt;, class &lt;chr&gt;, version &lt;list&gt;, include &lt;lgl&gt;</span></span></span></code></pre></div>
<div class="section level2">
<h2 id="longitudinal-responses">Longitudinal responses<a class="anchor" aria-label="anchor" href="#longitudinal-responses"></a>
</h2>
<p>Several participants have filled the questionnaire more than once.
All questionnaire responses included in any dataset returned by any
function in BVQ have an associated <code>time</code> value. This
variable indexes how many times that specific participant has filled the
questionnaire (any version), including their last response. This allows
to track each participant’s responses across time and perform
longitudinal analyses.</p>
<p>By default, <code><a href="../reference/bvq_responses.html">bvq_responses()</a></code> retrieves all responses.
Using <code><a href="../reference/get_longitudinal.html">get_longitudinal()</a></code>, we can filter what cases we want
to keep. The argument <code>longitudinal</code> takes one of the
following character strings:</p>
<ul>
<li>
<code>"all"</code>: all responses are returned</li>
<li>
<code>"no"</code>: participants with more than one response to the
questionnaire (any version) are excluded from the output</li>
<li>
<code>"first"</code>: only the first response from each participant
is returned (including responses of participant that only responded
once)</li>
<li>
<code>"last"</code>: only the most recent response from each
participant is returned (including responses of participant that only
responded once)</li>
<li>
<code>"only"</code>: only responses from participants that filled
the questionnaire more than once are returned.</li>
</ul>
<p>Setting <code>longitudinal = "only"</code> is especially useful to
perform repeated measures analyses. For example:</p>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16,077 × 8</span></span></span>
<span><span class="co">#&gt;    child_id  time item           response version_list date_birth date_started</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 58298        2 cat_astronauta        3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 58298        2 cat_abella            3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 58298        2 cat_ales              3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 58298        2 cat_capo              1 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 58298        2 cat_com               3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 58298        2 cat_ara               3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 58298        2 cat_anar2             3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 58298        2 cat_blanc             3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 58298        2 cat_i                 3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 58298        2 cat_aigua1            3 C            2020-04-27 2022-10-08  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 16,067 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: date_finished &lt;date&gt;</span></span></span></code></pre>
<div class="section level3">
<h3 id="please-note">Please note<a class="anchor" aria-label="anchor" href="#please-note"></a>
</h3>
<p>The values of <code>time</code> in the outcome of
<code><a href="../reference/bvq_participants.html">bvq_participants()</a></code> and the outcome of the rest of the
functions may <em>not</em> be identical. This is because in
<code><a href="../reference/bvq_participants.html">bvq_participants()</a></code> this value increases in one unit every
time a given participant is sent the questionnaire, even if they do not
end up filling it. In contrast, the value of <code>time</code> in the
rest of the functions (e.g., <code><a href="../reference/bvq_responses.html">bvq_responses()</a></code>,
<code><a href="../reference/bvq_logs.html">bvq_logs()</a></code>) only increases when the questionnaire is
filled. Since the outcome of <code><a href="../reference/bvq_participants.html">bvq_participants()</a></code> is mainly
intended for internal use, you don’t have to worry about this as long as
you don’t try to cross the outcomes of <code><a href="../reference/bvq_participants.html">bvq_participants()</a></code>
and the rest of the functions.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gonzalo Garcia-Castro, Daniela S. Ávila-Varela.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
